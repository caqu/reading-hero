# ‚úÖ **TASK 1 ‚Äî create_profiles_system.md**

**Task ID:** `T_CREATE_PROFILES_SYSTEM`
**Goal:** Add a multi-profile system to the app using localStorage, allowing multiple users (children) to have their own separate stats, level, and progress.

---

## üìù Task Summary

The app must support multiple child profiles.
Each profile has:

* `id` (UUID or timestamp)
* `name` (text)
* `avatar` (emoji for now)
* `level` (number from leveling engine)
* `stats` (accuracy, words completed, etc.)
* `lastWordId`
* `createdAt`
* `updatedAt`

All profile info is stored **only in localStorage**, no backend.

The currently active profile determines which stats, level, and progress the app loads.

---

## üéØ Requirements

### A. Create a `ProfileManager` module

File:

```
src/engine/ProfileManager.ts
```

Must export:

```ts
getProfiles()
createProfile({ name, avatar })
deleteProfile(id)
setActiveProfile(id)
getActiveProfile()
updateActiveProfile(data)
```

### B. Use a dedicated localStorage key:

```
localStorage.profiles = JSON.stringify({ profiles: [...], activeProfileId })
```

### C. Profile switching updates:

* level
* stats
* lastWordId
* current word list position

The app must **reload all profile-dependent state** when switching.

---

## üß™ Acceptance Criteria

* Profiles can be created
* Profiles persist across refreshes
* Switching profiles reloads stats + level + lastWordId
* Deleting a profile removes associated data
* If no profiles exist, app prompts to create one

---

# üì¶ Deliverables

* ProfileManager.ts
* Updated App initialization to load active profile
* Type definitions for Profile

---
