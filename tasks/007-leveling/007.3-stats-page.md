# âœ… **TASK: add_level_and_stats_panel.md**

**Task ID:** `T_ADD_LEVEL_AND_STATS_PANEL`
**Goal:** Add a real-time display of the user's current level & stats in the left sidebar, with persistent storage and a Stats Page accessible from a button.

---

# ğŸ“ Task Summary

We want to show:

* **Current Level**
* **Words Completed**
* **Accuracy %**
* **Fluency score (optional)**
* **Error density (optional)**

A Stats Panel should appear in the left sidebar (where your current â€œ1 of 230â€ and accuracy values are now). The user must also be able to **view a full Stats Page** via a button.

All stats must persist across page refreshes using **localStorage**.

---

# ğŸ¯ Requirements

## **A. Add Level + Stats Section to Left Sidebar**

Modify the left sidebar to show:

```
LEVEL: <currentLevel>
ACCURACY: <accuracy>%
WORDS COMPLETED: <count>
```

Optional:

```
FLUENCY: <MotorFluencyScore>
CONSISTENCY: <ConsistencyScore>
```

## **B. Create a StatsButton**

A small button in the sidebar:

```
[View Stats]
```

Clicking it should navigate to:

```
/stats
```

(using React Router or an internal page-switch mechanism).

## **C. Create a new page: StatsPage.tsx**

Location:

```
src/pages/StatsPage.tsx
```

Must show:

* Current level
* Accuracy stability index
* Motor fluency score
* Error density
* Total words completed
* Longest streak
* Words per minute (optional)
* Level history (L1â†’L2â†’L3 transitions)
* Reset stats button (with confirmation modal)

Optional (fun!):

* Trophy icons for milestones

---

## **D. Persist Stats Across Refreshes**

Use browser localStorage:

```
localStorage.setItem("readingStats", JSON.stringify(statsObj));
const saved = JSON.parse(localStorage.getItem("readingStats"));
```

Stats updated in Leveling Engine must automatically sync to storage.

---

## **E. Update LevelingEngine**

Extend the engine so it:

* Loads stats from localStorage at initialization
* Saves updated stats after each word
* Saves `currentLevel` after promotions/demotions
* Saves `levelHistory` array

---

## **F. Visual Design Notes**

* Keep sidebar simple, no clutter
* Level should be VERY big & kid-readable
* Stats page should use large UI elements
* Accessibility-friendly colors

---

# ğŸ§ª Acceptance Criteria

These features must work:

### **Sidebar**

âœ” Level always visible
âœ” Accuracy and word count update live
âœ” View Stats button works

### **Stats Page**

âœ” Loads data from localStorage
âœ” Displays all metrics
âœ” Has a reset button with confirmation
âœ” Looks clean and readable

### **Persistence**

âœ” Stats survive refresh
âœ” Stats reset works as intended

### **Leveling**

âœ” Stats page reflects currentLevel immediately
âœ” Leveling Engine reads + writes to localStorage

---

# ğŸ“¦ Deliverables

* Updated left sidebar
* StatsButton component
* StatsPage.tsx
* Updated LevelingEngine with persistence
* Styles for sidebar + stats page
